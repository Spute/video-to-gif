# Video to GIF

ä¸€ä¸ªåŸºäºæµè§ˆå™¨çš„è§†é¢‘è½¬GIFå·¥å…·ï¼Œä½¿ç”¨ [ffmpeg.wasm](https://github.com/ffmpegwasm/ffmpeg.wasm) åœ¨æµè§ˆå™¨ä¸­ç›´æ¥å¤„ç†è§†é¢‘è½¬æ¢ã€‚

ç½‘ç«™demoï¼š[https://video2gif.520233.best/](https://video2gif.520233.best/)

æœ¬é¡¹ç›®åŸºäº[video-to-gif](https://github.com/mryhryki/video-to-gif)äºŒæ¬¡å¼€å‘

## åŠŸèƒ½ç‰¹æ€§

- ğŸ¥ **å®Œå…¨åœ¨æµè§ˆå™¨ä¸­å¤„ç†** - æ— éœ€ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œä¿æŠ¤éšç§
- âš™ï¸ **ä¸°å¯Œçš„è½¬æ¢è®¾ç½®** - å¯è°ƒèŠ‚å¸§ç‡ã€å°ºå¯¸ã€æ—¶é—´èŒƒå›´
- ğŸ“± **æ‹–æ‹½ä¸Šä¼ ** - æ”¯æŒæ‹–æ‹½æˆ–ç²˜è´´è§†é¢‘æ–‡ä»¶
- ğŸ“Š **å®æ—¶é¢„è§ˆ** - è§†é¢‘é¢„è§ˆå’Œè½¬æ¢è¿›åº¦æ˜¾ç¤º
- ğŸ’¾ **å†å²è®°å½•** - è‡ªåŠ¨ä¿å­˜è½¬æ¢å†å²ï¼Œæ”¯æŒä¸‹è½½
- ğŸ”’ **éšç§ä¿æŠ¤** - æ‰€æœ‰å¤„ç†éƒ½åœ¨æœ¬åœ°å®Œæˆ

æ•ˆæœå±•ç¤ºï¼š
![GIF-demo](https://github.com/Spute/video-to-gif/raw/main/assets/demo.gif)

## æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Next.js 15.2.4 + React 19.1.0
- **æ ·å¼**: Styled Components 6.1.16
- **è¯­è¨€**: TypeScript 5.8.2
- **è§†é¢‘å¤„ç†**: ffmpeg.wasm (WebAssembly)
- **æ•°æ®å­˜å‚¨**: Dexie (IndexedDB)
- **æ„å»ºå·¥å…·**: Next.js å†…ç½®æ„å»ºç³»ç»Ÿ

## è½¬æ¢è®¾ç½®

- **å¸§ç‡ (Frame Rate)**: 1-30 FPS å¯è°ƒèŠ‚
- **å°ºå¯¸ (Size)**: æŒ‰å®½åº¦æˆ–é«˜åº¦ç¼©æ”¾ï¼Œæ”¯æŒè‡ªåŠ¨æ¯”ä¾‹
- **æ—¶é—´èŒƒå›´ (Range)**: ç²¾ç¡®è®¾ç½®å¼€å§‹å’Œç»“æŸæ—¶é—´
- **æ·¡å…¥æ•ˆæœ**: è‡ªåŠ¨æ·»åŠ 0.05ç§’æ·¡å…¥è¿‡æ¸¡

## éƒ¨ç½²æ–¹å¼

### æœ¬åœ°å¼€å‘

1. å®‰è£…ä¾èµ–ï¼š
```bash
npm install
```

2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š
```bash
npm run dev
```

3. æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost:3000

### é™æ€éƒ¨ç½²

1. æ„å»ºé¡¹ç›®ï¼š
```bash
npm run build
```

æ„å»ºåçš„æ–‡ä»¶ä¼šç”Ÿæˆåœ¨ `out` æ–‡ä»¶å¤¹ä¸­ï¼ŒåŒ…å«ï¼š
- `index.html` - ä¸»é¡µé¢
- `assets/` - JavaScript æ–‡ä»¶
- é™æ€èµ„æºæ–‡ä»¶
- è¿™ä¸ªå·¥å…·ä¾èµ–è·¨æºåœºæ™¯ï¼Œéœ€è¦è®¾ç½®å¦‚ä¸‹å“åº”å¤´ï¼Œå¦‚æœä½ ä½¿ç”¨Cloudflare Pageséƒ¨ç½²ã€‚å¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•åŠ ä¸€ä¸ª _headers æ–‡ä»¶
```
/*
  Cross-Origin-Opener-Policy: same-origin
  Cross-Origin-Embedder-Policy: require-corp
```

## æµè§ˆé™åˆ¶ä¸é—®é¢˜
- å¤§æ–‡ä»¶æ— æ³•å¤„ç†ï¼šå› åœ¨å†…å­˜ä¸­è¿è¡Œï¼Œè½¬æ¢å¤§è§†é¢‘å®¹æ˜“æŠ¥é”™ã€‚
- æµè§ˆå™¨å…¼å®¹æ€§å·®ï¼šä¾èµ– SharedArrayBufferï¼Œåœ¨éƒ¨åˆ†æµè§ˆå™¨ï¼ˆå¦‚ IEï¼‰ä¸å¯ç”¨ã€‚å¯ä»¥ä½¿ç”¨[caniuse](https://caniuse.com/?search=SharedArrayBuffer)æŸ¥çœ‹æµè§ˆå™¨æ˜¯å¦æ”¯æŒSharedArrayBuffer
![æµè§ˆå™¨å…¼å®¹](https://github.com/Spute/video-to-gif/raw/main/assets/caniuse.png)

## é¡¹ç›®ç»“æ„

```
  â”œâ”€â”€ components/          # React ç»„ä»¶
  â”‚   â”œâ”€â”€ content.tsx      # ä¸»è¦å†…å®¹åŒºåŸŸ
  â”‚   â”œâ”€â”€ drop_or_paste_video.tsx  # æ‹–æ‹½ä¸Šä¼ ç»„ä»¶
  â”‚   â”œâ”€â”€ footer.tsx       # é¡µè„šç»„ä»¶
  â”‚   â”œâ”€â”€ header.tsx       # å¤´éƒ¨ç»„ä»¶
  â”‚   â”œâ”€â”€ history.tsx      # å†å²è®°å½•ç»„ä»¶
  â”‚   â”œâ”€â”€ select_video_file.tsx  # è§†é¢‘æ–‡ä»¶é€‰æ‹©ç»„ä»¶
  â”‚   â”œâ”€â”€ settings.tsx     # è½¬æ¢è®¾ç½®ç»„ä»¶
  â”‚   â””â”€â”€ status.tsx       # çŠ¶æ€æ˜¾ç¤ºç»„ä»¶
  â”œâ”€â”€ lib/                 # å·¥å…·å‡½æ•°
  â”‚   â”œâ”€â”€ buffer_to_url.ts # ç¼“å†²åŒºè½¬URLå·¥å…·
  â”‚   â”œâ”€â”€ checker.ts       # æ£€æŸ¥å™¨å·¥å…·
  â”‚   â”œâ”€â”€ datetime.ts      # æ—¥æœŸæ—¶é—´å·¥å…·
  â”‚   â”œâ”€â”€ ffmpeg.ts        # ffmpeg.wasm å°è£…
  â”‚   â””â”€â”€ hooks/           # React Hooks
  â”‚       â”œâ”€â”€ use_convert_setting.ts  # è½¬æ¢è®¾ç½®Hook
  â”‚       â””â”€â”€ use_history.ts          # å†å²è®°å½•Hook
  â”œâ”€â”€ pages/               # Next.js é¡µé¢
  â”‚   â”œâ”€â”€ _app.tsx         # Next.jsåº”ç”¨ç»„ä»¶
  â”‚   â”œâ”€â”€ _document.tsx    # Next.jsæ–‡æ¡£ç»„ä»¶
  â”‚   â””â”€â”€ index.tsx        # ä¸»é¡µé¢
  â”œâ”€â”€ styles/              # æ ·å¼æ–‡ä»¶
  â”‚   â””â”€â”€ globals.css      # å…¨å±€CSSæ ·å¼
  â””â”€â”€ public/              # é™æ€èµ„æº
      â””â”€â”€ ffmpeg.min.js    # ffmpeg.wasm åº“
```

## è®¸å¯è¯

MIT License
